name: VPS-Termius
on:
  workflow_dispatch:

jobs:
  secure-vps:
    runs-on: ubuntu-latest
    timeout-minutes: 360

    steps:
      - name: ğŸ› ï¸ Install SSH
        run: |
          sudo apt update
          sudo apt install -y openssh-server wget
          echo "root:admin@123" | sudo chpasswd
          echo "PermitRootLogin yes" | sudo tee -a /etc/ssh/sshd_config
          echo "PasswordAuthentication yes" | sudo tee -a /etc/ssh/sshd_config
          sudo systemctl restart ssh
          echo "ğŸ” SSH: root / admin@123"

      - name: ğŸš€ Keep VPS Alive
        run: |
          while true; do
            echo "ğŸŸ¢ VPS Ø´ØºØ§Ù„... ($(date))"
            sleep 300
          done &

      - name: ğŸŒ Setup Reverse SSH via Serveo
        run: |
          ssh -o StrictHostKeyChecking=no -R 2222:localhost:22 nokey@serveo.net &
          echo "ğŸŒŸ VPS Ø¬Ø§Ù‡Ø² Ù„Ù„Ù‡Ø§ØªÙ Ø¹Ø¨Ø± Termius!"
          echo "ğŸ“Œ Ø§Ù„Ø§ØªØµØ§Ù„:"
          echo "Host: serveo.net"
          echo "Port: 2222"
          echo "Username: root"
          echo "Password: admin@123"
